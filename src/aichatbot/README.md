# Репозиторий чатбота корпоративного ИИ

## Общая концепция

Этот чат-бот реализует концепцию "корпоративного ИИ": бот выступает в виде "цифрового двойника" компании и некоторых ролей.
Бот доступен только сотрудникам Токеон (их ники в телеграме перечислены в bot_config.yaml в параметре allowed_users).
На данный момент используются два источника информации - git-репозиторий DocHub (./dochub) и к нему можно подключить другой репозиторий. В этом демо это репозиторий исходного кода GO (./go)

## Последовательность запуска

- заполнить параметры запуска в **bot_config.yaml**. Будут необходимы: токен бота и креды в Yandex Cloud
- клонировать свой репозиторий DocHub в ./docs
- установить все пакеты питона для корректной работы скриптов. Пакеты описаны в **requirements.txt**
- выполнить файл **create_embeddings.py**, он соберет тексты из репозитория DocHub, отправит куски текста в Яндекс, чтобы получить эмбеддинги и положит их в ChromaDB
- после того как отработал create_embeddings, запустить **telegram_bot.py**
- всё, можно общаться с ботом 

## Директории и файлы

- **requirements.txt** - список устанавливаемых модулей питона для корректной работы решения
- **telegram_bot.py** - файл для работы бота TokeonCorporateAIbot в телеграмме
- **bot_config.yaml** - файл конфигурации, который читается из telegram_bot.py
- **yandex_rag.py** - файл с процедурами по запуску языковой модели, чтению документов и отправке вопросов в ИИ Яндекса
- **chroma_db** - векторная база данных ChromaDB, хранящая векторизованное представление текста
- **yandex_iam.py** - вынесенная процедура получения iam-токена Яндекса
- **sber_rag.py** - файл с процедурами по запуску языковой модели, чтению документов и отправке вопросов в ИИ Сбера (использовался в первой версии и более не поддерживается)
